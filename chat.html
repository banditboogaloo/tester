<html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat with Username</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    #chat-box {
      height: 300px;
      border: 1px solid #ccc;
      overflow-y: scroll;
      padding: 10px;
    }
    #input-box {
      margin-top: 10px;
    }
    #admin-controls {
      position: fixed;
      bottom: 10px;
      left: 10px;
    }
  </style>
</head>
<body>

<div>
  <label for="username">Username:</label>
  <input type="text" id="username" placeholder="Enter your username">
</div>

<div id="chat-box"></div>

<div id="input-box">
  <input type="text" id="message-input" placeholder="Type your message...">
  <button id="send-button">Send</button>
</div>

<div id="admin-controls">
  <label for="admin-password">Admin Password:</label>
  <input type="password" id="admin-password" placeholder="Enter admin password">
  <button id="clear-button" onclick="clearChat()">Clear Chat</button>
</div>

<script>
  // Admin password
  var adminPassword = "smartfella88";

  // Retrieve or initialize messages from local storage
  var messages = JSON.parse(localStorage.getItem('chatMessages')) || [];

  function displayMessages() {
    var chatBox = document.getElementById('chat-box');
    chatBox.innerHTML = ''; // Clear existing content

    messages.forEach(function (msg) {
      chatBox.innerHTML += `<p><strong>${msg.username}:</strong> ${msg.message}</p>`;
    });

    chatBox.scrollTop = chatBox.scrollHeight; // Scroll to the bottom
  }

  function sendMessage() {
    var messageInput = document.getElementById('message-input');
    var usernameInput = document.getElementById('username');
    var message = messageInput.value;
    var username = usernameInput.value;

    if (username.trim() === '') {
      alert('Please enter a username.');
      return;
    }

    if (message.trim() !== '') {
      messages.push({ username: username, message: message });

      // Save messages to local storage
      localStorage.setItem('chatMessages', JSON.stringify(messages));

      displayMessages(); // Update the chat box

      messageInput.value = ''; // Clear the input field
    }
  }

  function clearChat() {
    var passwordInput = document.getElementById('admin-password');
    var enteredPassword = passwordInput.value;

    // Check if the entered password is correct
    if (enteredPassword === adminPassword) {
      // Clear messages and update local storage
      messages = [];
      localStorage.setItem('chatMessages', JSON.stringify(messages));
      displayMessages(); // Update the chat box
    } else {
      alert('Incorrect admin password.');
    }

    // Clear the password input field
    passwordInput.value = '';
  }

  // Attach the functions to the button click events
  document.getElementById('send-button').addEventListener('click', sendMessage);

  // Display existing messages when the page loads
  displayMessages();
</script>



</body></html>
